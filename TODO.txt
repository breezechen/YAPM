TODO LIST

Refactoring bugs

- ==============
- Item en vert boolean à remettre à zéro quand on connecte
- vidage des listes (par exemple list des cEnvVariables) quand le process est kické (car le prochain qui aura le même ID doit repartir de 0) et non quand frmProcessInfo se ferme
- snapshot -> récupération directe avec CurrentProcesses/Services pose problème si liste pas encore crée (Me.processes = processprovider.Currentprocesses)
- compatibilité snapshots avec anciennes version --> warning avant ouverture + message erreur si échec + proposition de télécharger une ancienne version de YAPM sur sourceforge

TODO
- handles (detail)
- joblimits (detail)
- jobs (main)
- log (detail)
- memRegions (detail)
- modules (detail)
- search (main)
- tasks (main)
- threads (detail)
- windows (detail)

- get rid of registry (services)

- collection modifiée (cf. services via socket : liste + 1/2 svchost avec leur serviceList)

- implémenter option "temps process rouge/vert"
- gestion des erreurs 'GotAnError' à vérifier en mode socket/wmi (lors d'une déconnexion, par sur que çà fonctionne bien)
- pas possible d'afficher la liste des services pour un process si la liste générale est pas affichée (via socket)
- path process en WMI pas récupéré ???
- ramage WMI pour les switchs thread/module/general dans la form details
- bug de récupération des processnames pour les première Networkconnection (exemple de Opera apparaissant en tant que (N/A) (PID) et en tant que opera.exe (PID))



- xp sp3 : enum des env variables foire (regression : checker les modifications apportées à envVariableEnum) --> IDENTIFIE (commentaire sur l'affectation dico process)
- ajouter écriture log (ShowDebugLog + option)
- bug col modif (cf. affectation dico process)

- icone des service doit dépendre du type
- rapport général
- serviceDep et processesInJob pour le snapshot

- x64 via server : peut pas énumérer handles, modules et memory, username/path des processus
- checker pb encapsulation 64b pour les SetJobLimits (memory limits)

- job enumeration can work even if not admin (xp)
- cannot enumerate strings in a file on a network dir (works in File but not in Processes->Strings)
- crash first time I displayed help (IE component failure)

- snapshot -> serviceDep et processesInJob + désactiver times + gestion historiques + recherche (pb de dico)

- limiter taille MAX à pouvoir stocker pour systemInfo (comme pour les processus)
- search et log -> enumeration des modules prend pas en compte les wow64

BUGS CRITIQUES
- memory leak (+5Mo en ouvrant/fermant un fenêtre process/serviceDetails)
- wow64 information en remote ??
- add to existing job foireux (extraire le nom du job de la chaine entiere via '\')
- job par remote (et en wmi, désactiver également Restart with priv)
- searchInfos contains cService/cModule (NOT Serializable -> can not search via server)
- others highlightings (isTask, wow64...)
- refermer les handles quand les processes meurent !
- Save main report à faire
	
BUGS NON CRITIQUES
- diviser les onglets de frmProcessInfos en usercontrol et les ajouter manuellement (en fonction de la connection et du type de process 4,0  ou >4)
- close local process handle -> utiliser DuplicateHandle plutôt que remote thread
- problème icones menu principal cachées (Vista seulement)
- columns lvHeap
- outils network connection (trace, whois...)
- elevation pour create service
- déconnexion remote quand recherche non terminée -> lvSearch disabled
- timer dans jobInfos doit avoir le même temps que dans frmMain
- ajouter nouvelles infos pour les handles (cf struct récupérée)
- is remote debugger present marche pas (cf _WIN32_WINNT)
- l'organisation des colonnes des threads n'est pas rechargée (ou bien sauvée ?) dans la form détail. Voir si c'est pareil pour les autres lv de la form
- highlightings en remote
- OK dans chooseColumns -> devrait sauvegarder les préférences de suite
- recup username foireux quelques fois
- pending task pour remote (le _deg n'est pas appelé en remote)
- goto item dans le log bon, mais impossible si liste pas encore actualisée (donc soit griser go to item, soit créer un thread qui remplit la liste et sélectionne l'item (comme pour 'select window in windows tab'))
- résolutions d'adresses -> stocker correspondance IP:port <-> nom resolu dans un dico ?
- ajout des 6 nouvelles infos process dans formDetail (sauf certaines qui auront un truc spécifique comme token, job)
- ajouter description des colonnes (dans le chooseColumns)
- option Kill with specific exitcode
- déconnexion local puis connexion WMI foireuse puis reconnexion local -> ServiceStartType change et devient foireux (+impossible de lister les processus !!)
- creatime time foireux pour les threads
- inspect structures (PEB...) + possibilité afficher valeurs structs depuis hex editor
- optmisation NetWorklist -> bytes swap uniquement pour les news items (inutile de faire çà a chaque fois dans l'enum)
- monitoring de pleins d'items -> thread spécifique nécessaire pour éviter les bloquages
- systemInfo pour les pc remote
- lvFileStrings doit être Virtual
- dependencies pour les services KO (on a le path avec \SystemRoot\ dans le .Imagepath (récupérer plutôt .Getinformation(path) + enlever ligne de commande après fichier)
- si network connexions obtenues AVANT process, alors le processname n'est pas trouvé (refaire un check après)
- résoudre pb des nouvelles infos process pour le réseau (idem que Affinity)
- priorité des highlightings à prendre en compte
- ajouter bouton Default dans ChooseColumns
- ajouter infos token (elevation, domain, user name, SID...)
- ajouter "démarrer en tant que" (runas, cf lien opera)
- path des process : \Device\VBoxMiniRdr\VBOXSVR\Release\YAPM.exe à convertir en path avec lecteur
- fin d'un service dans frmDetail -> afficher 'terminé le xxx' en titre quand le service n'existe plus
- tooltip partout (manque frmPreferences ? et manque frmLogOptions + forms qui viennent des autres projets)
- certaines icones moches (yes/no dans lvPrivileges, refresh, find window, )
- get online infos pour les services (changer de provider !!)
- graph monitoring -> refresh l'affichage de la valeur survolée également quand la souris se déplace + refaire graph comme pour GraphChart
- vérifier pourquoi cpu usage de Idle dépasse les 100% ; le cas échéant limiter la valeur à 100%
- find hidden processes utilisable pour les PCs distants ? + ajouter Terminate dans le menu popup + éventuellement 'go to process' pour aller dans lvProcess
- déconnexion WMI après longue inactivité -> calculer temps dernière requete et lancer une requete pour éviter la déconnexion si t>MAX ?
- dependencies -> PE.filename doit changer SystemRoot en X:\Wind....
- refresh double des services en WMI ??

- affinity process/thread (socket)
- TODO, TOCHANGE, TODO_, TOCHECK, ISNEEDED, TOREMOVE, PERFISSUE
- replace taskmgr sous 7/Vista à checker et corriger
- pending task : caption -> object.tostring (surcharger chaque cXXXX)
- setLIMITEDinfo dans les access comme pour QueryLIMITEDinfo (thread & process)

- transformer .Created par try/catch ? + manque des Invoke pour les connected dans les cXXXConnection
- getmappedimage... pour socket
- messages Vista like partout
- performances (_currentServices et _currentProcesses remplis 2 fois au démarrage -> customLV qui créé des cObject, et asyncEnum aussi)
- upload virus total
- modules Wow64 en WMI ?

2) Plus tard
- SBA a réimplémenter
- SBA -> sendmessage configurable
- cycles pour vista, I/O priority, WS shared
- "monitor" sur les processus (sélection du PID, sélection de la catégorie Process/Processus et sélection des bonnes instances)
- infos système dans le general report
- "other actions" pour les processus (limitation CPU usage...)

4) Fonctions à ajouter pleinement
- autres token
- monitoring de plusieurs instances en même temps (multiselection)
- vue treeview


Temp Change log :
/!\ METTRE A JOUR LE FICHIER D'AIDE LORS DE LA RELEASE

* NEW / Improvements

* Bug fixed