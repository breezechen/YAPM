TODO LIST

Refactoring bugs

- virer PtrToStructure et n'utiliser que MemoryAlloc

- continuer heaps (show blocks en bas de la form...)
- fix signature check (buggy...)

- snapshot -> serviceDep et processesInJob + désactiver times + gestion historiques + recherche (pb de dico)
- revoir remote address des connections
- commandline dans l'aide

BUGS CRITIQUES
- add to existing job foireux (extraire le nom du job de la chaine entiere via '\')
- job par remote (et en wmi, désactiver également Restart with priv)
- searchInfos contains cService/cModule (NOT Serializable -> can not search via server)
- close local process handle -> utiliser DuplicateHandle plutôt que remote thread
- others highlightings (isTask, wow64...)
- refermer les handles quand les processes meurent !
- problème icones menu principal cachées (Vista seulement)
- reports à faire (vérifier l'utilisation de GetAvailbleProperties)
	process -> save services
	mod -> foireux
	thread -> foireux
	handles -> OK
	windows -> OK
	monitor -> rien
	services -> OK
	network -> à implémenter (menu + icone ribbon)
	search -> OK
	main -> à faire
	!!! reports des modules/threads/handles/windows (depuis que les maintab sont plus là) ?
	
BUGS NON CRITIQUES
- rewrite GetServiceDependenciesAsStringArrayFromPtr
- columns lvHeap
- outils network connection (trace, whois...)
- implémenter le dump...
- elevation pour create service
- déconnexion remote quand recherche non terminée -> lvSearch disabled
- timer dans jobInfos doit avoir le même temps que dans frmMain
- ajouter nouvelles infos pour les handles (cf struct récupérée)
- is remote debugger present marche pas (cf _WIN32_WINNT)
- l'organisation des colonnes des threads n'est pas rechargée (ou bien sauvée ?) dans la form détail. Voir si c'est pareil pour les autres lv de la form
- highlightings en remote
- OK dans chooseColumns -> devrait sauvegarder les préférences de suite
- recup username foireux quelques fois
- pending task pour remote (le _deg n'est pas appelé en remote)
- goto item dans le log bon, mais impossible si liste pas encore actualisée (donc soit griser go to item, soit créer un thread qui remplit la liste et sélectionne l'item (comme pour 'select window in windows tab'))
- résolutions d'adresses -> stocker correspondance IP:port <-> nom resolu dans un dico ?
- ajout des 6 nouvelles infos process dans formDetail (sauf certaines qui auront un truc spécifique comme token, job)
- ajouter description des colonnes (dans le chooseColumns)
- option Kill with specific exitcode
- déconnexion local puis connexion WMI foireuse puis reconnexion local -> ServiceStartType change et devient foireux
- creatime time foireux pour les threads
- inspect structures (PEB...) + possibilité afficher valeurs structs depuis hex editor
- optmisation NetWorklist -> bytes swap uniquement pour les news items (inutile de faire çà a chaque fois dans l'enum)
- monitoring de pleins d'items -> thread spécifique nécessaire pour éviter les bloquages
- systemInfo pour les pc remote
- SystemInfos -> afficher graphes en permanence (et pas que quand la form est affichée)
- lvFileStrings doit être Virtual
- dependencies pour les services KO (on a le path avec \SystemRoot\ dans le .Imagepath (récupérer plutôt .Getinformation(path) + enlever ligne de commande après fichier)
- si network connexions obtenues AVANT process, alors le processname n'est pas trouvé (refaire un check après)
- résoudre pb des nouvelles infos process pour le réseau (idem que Affinity)
- priorité des highlightings à prendre en compte
- ajouter bouton Default dans ChooseColumns
- ajouter infos token (elevation, domain, user name, SID...)
- ajouter "démarrer en tant que" (runas, cf lien opera)
- perf counter pour PC distant : ajouter gestion remote pour la recherche
- path des process : \Device\VBoxMiniRdr\VBOXSVR\Release\YAPM.exe à convertir en path avec lecteur
- fin d'un service dans frmDetail -> afficher 'terminé le xxx' en titre quand le service n'existe plus
- tooltip partout (manque frmPreferences ? et manque frmLogOptions + forms qui viennent des autres projets)
- certaines icones moches (yes/no dans lvPrivileges, refresh, find window, )
- get online infos pour les services (changer de provider !!)
- graph monitoring -> refresh l'affichage de la valeur survolée également quand la souris se déplace
- vérifier pourquoi cpu usage de Idle dépasse les 100% ; le cas échéant limiter la valeur à 100%
- find hidden processes utilisable pour les PCs distants ? + ajouter Terminate dans le menu popup + éventuellement 'go to process' pour aller dans lvProcess
- déconnexion WMI après longue inactivité -> calculer temps dernière requete et lancer une requete pour éviter la déconnexion si t>MAX ?
- dependencies -> PE.filename doit changer SystemRoot en X:\Wind....
- refresh double des services en WMI ??

- affinity process/thread (socket)
- TODO, TOCHANGE, TODO_, TOCHECK, ISNEEDED, TOREMOVE, PERFISSUE
- replace taskmgr sous 7/Vista à checker et corriger
- pending task : caption -> object.tostring (surcharger chaque cXXXX)
- setLIMITEDinfo dans les access comme pour QueryLIMITEDinfo (thread & process)

- ajouter semaphores de protection dans les methodes "Friend Shared Sub enumXXXX" (pour accès concurrent avec le log) ????
- probablement des bugs de 'collection modifiée' vis à vis du log
- transformer .Created par try/catch ? + manque des Invoke pour les connected dans les cXXXConnection
- getmappedimage... pour socket
- messages Vista like partout
- rapport monitoring
- one graph per CPU -> conserver historique
- performances (_currentServices et _currentProcesses remplis 2 fois au démarrage -> customLV qui créé des cObject, et asyncEnum aussi)
- upload virus total


2) Plus tard
- SBA a réimplémenter
- SBA -> sendmessage configurable
- cycles pour vista, I/O priority, WS shared
- "monitor" sur les processus (sélection du PID, sélection de la catégorie Process/Processus et sélection des bonnes instances)
- infos système dans le general report
- "other actions" pour les processus (limitation CPU usage...)
- tooltip sur graphes

4) Fonctions à ajouter pleinement
- autres token
- monitoring de plusieurs instances en même temps (multiselection)
- vue treeview


Temp Change log :
/!\ METTRE A JOUR LE FICHIER D'AIDE LORS DE LA RELEASE

* NEW / Improvements
- Added massive signature check feature
- Now can create snapshot file from command line (-ssfile "FILE_PATH")

* Bug fixed
- TCP/UDP connections : only display 'remote' column values if remote is not nothing
- x64 systems : fixed bad CommandLine information
- x64 systems : fixed bad DisplayName/ObjectName/Depedencies information